<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>

    <script>
      function checkboxLinkage(container) {
        let model = {
          data: {
            all: false,
            a: false,
            b: false,
            c: false,
            d: false
          },
          getData() {
            return this.data;
          },
          setData(data) {
            this.data = data;
          }
        };

        let view = {
          getHtml() {
            return `
              <div><label>全选<input type="checkbox" value="all"/><label></div>
              <div>
                  <label>水<input type="checkbox" value="a" /><label>
                  <label>草<input type="checkbox" value="b"/><label>
                  <label>蔬菜<input type="checkbox" value="c" /><label>
                  <label>水果<input type="checkbox" value="d" /><label>
              </div>
            `;
          }
        };

        let controller = {
          init() {
            this.render();
            this.bind();
          },
          render() {
            container.innerHTML = view.getHtml();
          },
          find(selector) {
            return container.querySelectorAll(selector);
          },
          bind() {
            let that = this;
            container.addEventListener("change", function(e) {
              let value = e.target.value;
              let checked = e.target.checked; // 变化后的
              switch (value) {
                case "all":
                  if (checked) {
                    that.find("[value=a]")[0].checked = 1;
                    that.find("[value=b]")[0].checked = 1;
                    that.find("[value=c]")[0].checked = 1;
                    that.find("[value=d]")[0].checked = 1;
                  } else {
                    that.find("[value=a]")[0].checked = 0;
                    that.find("[value=b]")[0].checked = 0;
                    that.find("[value=c]")[0].checked = 0;
                    that.find("[value=d]")[0].checked = 0;
                  }
                  break;
                case "a":
                  if (checked) {
                  }
                  break;
              }
            });
          }
        };

        controller.init();
      }

      checkboxLinkage(document.querySelector("#app"));
    </script>

    <script type="javascript/babel">
      class AA {
        constructor() {
          super();

          this.state = {
            all: false,
            ...
          }
        }

        handleChange() {

        }

        render() {
          let { all, a, b, c, d } = this.state;
          return <div>
              <div><label>全选<input type="checkbox" checked={all} value="all" onChange={this.handleChange}/><label></div>
              <div>
                  <label>水<input type="checkbox" checked={a}  value="a" /><label>
                  <label>草<input type="checkbox"  checked={b} value="b"/><label>
                  <label>蔬菜<input type="checkbox" checked={c}  value="c" /><label>
                  <label>水果<input type="checkbox" checked={d}  value="d" /><label>
              </div>
          </div>
        }
      }
    </script>
  </body>
</html>
