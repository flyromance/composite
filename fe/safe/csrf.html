<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <section>
    <h2>csrf</h2>
    <div>cross site request forgery 跨站请求伪造</div>

    <h2>原理场景</h2>
    <ul>
      <li>一个用户<strong>登录</strong>一个www.a.com, 服务器下发cookie，用户没有退出</li>
      <li>这个www.a.com有个接口/getMoneny?count=12312323 用来给传递的12312322转帐的, 并且是个get请求</li>
      <li>接着登录一个危险网站www.d.com，正好页面上有个图片img，其src为"www.a.com/getMoneny?count=别人的账号"，用户正好去点了</li>
      <li>结果就是自己的钱转到别人的账号了，因为点击图片的时候，浏览器把www.a.com下的cookie随着请求一起发给了服务器</li>
      <li>服务器收到这个请求，收到cookie发现是个登录的用户，就直接转账了</li>
    </ul>

    <h2>应对措施</h2>
    <ul>
      <li>token 验证
        <ul>
          <li></li>
        </ul>
      </li>
      <li>referrer 验证
        <ul>
          <li>网站判断页面来源，就是这个请求所处的源，页面的url</li>
        </ul>
      </li>
      <li>隐藏令牌</li>
    </ul>
  </section>
</body>
</html>